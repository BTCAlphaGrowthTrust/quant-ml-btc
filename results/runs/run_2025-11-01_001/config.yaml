# ============================================================
# Quant-ML-BTC | Default Configuration
# Modular, config-driven machine learning & rule-based backtesting
# ============================================================

data:
  symbol: BTCUSDT
  timeframe: 4h
  source: binance
  csv_path: data/raw/BTCUSDT_4h.csv

# ------------------------------------------------------------
# FEATURE SETTINGS
# ------------------------------------------------------------
features:
  ema_periods: [50, 200]          # Short & long EMAs
  stochastic: [14, 6, 3]          # (k, d, smooth_k)
  include_weekly_stoch: true      # Enables stoch_k_w, stoch_d_w
  include_rsi: true               # Adds RSI(14)
  include_volatility: true        # Adds rolling std of log returns
  include_vwap: false             # Reserved for future expansion

# ------------------------------------------------------------
# LABELING SETTINGS
# ------------------------------------------------------------
label:
  mode: volatility_scaled          # return_fwd or volatility_scaled
  horizon: 12                      # forward bars to check
  threshold: 0.01                  # base return threshold
  vol_window: 20                   # for volatility-based labeling
  vol_factor: 0.5                  # scale factor for label thresholds

# ------------------------------------------------------------
# MACHINE LEARNING MODEL
# ------------------------------------------------------------
model:
  type: xgboost
  n_estimators: 150
  max_depth: 4
  learning_rate: 0.05
  subsample: 0.8
  colsample_bytree: 0.8

# ------------------------------------------------------------
# BACKTEST SETTINGS
# ------------------------------------------------------------
backtest:
  initial_capital: 100000
  trade_fee: 0.0005                # 0.05% per trade (for realism)
  slippage: 0.0002                 # optional simulated slippage

# ------------------------------------------------------------
# STRATEGY EXECUTION
# ------------------------------------------------------------
strategy:
  enabled: true
  name: weekly_oscillator_pa       # file under src/strategies/
  risk_percent: 2.0                # risk per trade for position sizing
  atr_multiplier: 1.0              # ATR buffer for stop distance
  lookback_bars: 20
  signal_expiry: 20
  stoch_threshold: 60

# ------------------------------------------------------------
# POSITION SIZING (COMING NEXT)
# ------------------------------------------------------------
position_sizing:
  mode: risk_based                 # options: fixed, risk_based, volatility_scaled
  max_risk_per_trade: 0.02         # 2% equity risk per trade
  capital_allocation: dynamic      # full / fractional / capped
  atr_length: 14
  atr_multiplier: 1.0
